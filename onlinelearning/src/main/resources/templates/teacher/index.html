<th:block th:replace="/layout.html">
  <th:block th:fragment="main-content">

    <head>
      <meta charset="utf-8">
      <meta content="width=device-width, initial-scale=1.0" name="viewport">

      <title>Dashboard - Teacher</title>
      <meta content="" name="description">
      <meta content="" name="keywords">

      <!-- Favicons -->
      <link href="assets/img/favicon.png" rel="icon">
      <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

      <!-- Google Fonts -->
      <link href="https://fonts.gstatic.com" rel="preconnect">
      <link
        href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
        rel="stylesheet">

      <!-- Vendor CSS Files -->
      <link th:href="@{/assets/vendor/bootstrap/css/bootstrap.min.css}" rel="stylesheet">
      <link th:href="@{/assets/vendor/bootstrap-icons/bootstrap-icons.css}" rel="stylesheet">
      <link th:href="@{/assets/vendor/boxicons/css/boxicons.min.css}" rel="stylesheet">
      <link th:href="@{/assets/vendor/quill/quill.snow.css}" rel="stylesheet">
      <link th:href="@{/assets/vendor/quill/quill.bubble.css}" rel="stylesheet">
      <link th:href="@{/assets/vendor/remixicon/remixicon.css}" rel="stylesheet">
      <link th:href="@{/assets/vendor/simple-datatables/style.css}" rel="stylesheet">

      <!-- Template Main CSS File -->
      <link th:href="@{/assets/css/style.css}" rel="stylesheet">

    </head>

    <!-- ======= Sidebar ======= -->
    <aside id="sidebar" class="sidebar">

      <class class="sidebar-nav" id="sidebar-nav">

        <main id="main" class="main">

          <div class="pagetitle">
            <h1>Dashboard</h1>
          </div><!-- End Page Title -->

          <section class="section dashboard">
            <div class="row">
              <!-- Left side columns -->
              <div class="col-lg-8">
                <div class="row">
                  <!-- Sales Card -->
                  <div class="col-xxl-4 col-md-6">
                    <div class="card info-card sales-card">
                      <div class="card-body">
                        <h5 class="card-title">Views <span>| Today</span></h5>
                        <div class="d-flex align-items-center">
                          <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                            <i class="bi bi-tropical-storm"></i>
                          </div>
                          <div class="ps-3">
                            <div th:if="${isIncreaseView}">
                              <span class=" text-success small pt-1 fw-bold" th:text="${view}"></span>
                              <span class="text-muted small pt-2 ps-1">increase</span>
                            </div>
                            <div th:if="${!isIncreaseView}">
                              <span class="text-danger small pt-1 fw-bold" th:text="${view}"></span>
                              <span class="text-muted small pt-2 ps-1">decrease</span>
                            </div>
                          </div>
                        </div>
                      </div>

                    </div>
                  </div><!-- End Sales Card -->

                  <!-- Revenue Card -->
                  <div class="col-xxl-4 col-md-6">
                    <div class="card info-card revenue-card">
                      <div class="card-body">
                        <h5 class="card-title">Revenue <span>| This Month</span></h5>

                        <div class="d-flex align-items-center">
                          <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                            <i class="bi bi-currency-dollar"></i>
                          </div>
                          <div class="ps-3">
                            <div th:if="${isIncreaseRevenue}">
                              <span class=" text-success small pt-1 fw-bold" th:text="${revenue}"></span>
                              <span class="text-muted small pt-2 ps-1">increase</span>
                            </div>
                            <div th:if="${!isIncreaseRevenue}">
                              <span class="text-danger small pt-1 fw-bold" th:text="${revenue}"></span>
                              <span class="text-muted small pt-2 ps-1">decrease</span>
                            </div>
                          </div>
                        </div>
                      </div>

                    </div>
                  </div><!-- End Revenue Card -->

                  <!-- Customers Card -->
                  <div class="col-xxl-4 col-xl-12">

                    <div class="card info-card customers-card">
                      <div class="card-body">
                        <h5 class="card-title">Total Of Course Purchases</h5>

                        <div class="d-flex align-items-center">
                          <div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
                            <i class="bi bi-people"></i>
                          </div>
                          <div class="ps-3">
                            <span class="text-success small pt-1 fw-bold" th:text="${totalOfSales}"></span>
                          </div>
                        </div>
                      </div>
                    </div>

                  </div><!-- End Customers Card -->
                  <!-- Recent Sales -->
                  <div class="col-12" style="margin-top: 50px;">
                    <div class="card recent-sales overflow-auto">
                      <div class="card-body">
                        <h5 class="card-title">Top Course Sale</h5>

                        <table class="table table-borderless datatable">
                          <thead>
                            <tr>
                              <th scope="col">#</th>
                              <th scope="col">Product</th>
                              <th scope="col">Price</th>
                              <th scope="col">Total</th>
                              <th scope="col">Revenue</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr th:each="item : ${listTopSale}">
                              <th scope="row" th:text="${item.id}"></th>
                              <td><a th:href="'/teacher/course/detail/' + ${item.id} " class="text-primary"
                                  th:text="${item.name}"></a></td>
                              <td th:text="${item.price}"></td>
                              <td th:text="${item.totalSale}"></td>
                              <td th:text="${item.totalMoney}"></td>
                            </tr>

                          </tbody>
                        </table>

                      </div>

                    </div>
                  </div><!-- End Recent Sales -->

                  <!-- Top Selling -->
                  <!-- <div class="col-12" style="margin-top: 50px;">
                    <div class="card top-selling overflow-auto">
                      <div class="card-body pb-0">
                        <h5 class="card-title">New Income</h5>
                        <table class="table table-borderless">
                          <thead>
                            <tr>
                              <th scope="col">#</th>
                              <th scope="col">Description</th>
                              <th scope="col">Money</th>
                              <th scope="col">Status</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <th scope="row"><a href="#"><img src="assets/img/product-1.jpg" alt=""></a></th>
                              <td><a href="#" class="text-primary fw-bold">Ut inventore ipsa voluptas nulla</a></td>
                              <td>$64</td>
                              <td class="fw-bold">124</td>
                              <td>$5,828</td>
                            </tr>
                          </tbody>
                        </table>

                      </div>

                    </div>
                  </div>End Top Selling -->

                </div>
              </div><!-- End Left side columns -->

              <!-- Right side columns -->
              <div class="col-lg-4">

                <!-- Recent Activity -->
                <div class="card">


                  <div class="card-body">
                    <h5 class="card-title">Recent Feedback</h5>
                    <div th:if="${!isFeedback}"> NO Feedback</div>
                    <div th:if="${isFeedback}" class="activity">
                      <div class="activity-item d-flex" th:each="feedback : ${feedbacks}">
                        <i class='bi bi-circle-fill activity-badge text-success align-self-start'></i>
                        <div class="activity-content"
                          th:text="' Student ' + ${feedback.student.name} + ' has new feedback for course '">
                        </div>
                        <span>
                          <a th:href="@{/teacher/course/feedback/{courseId}(courseId=${feedback.course.id})}"
                            th:text="${feedback.course.name}"></a>
                        </span>
                      </div>
                    </div>
                  </div>
                </div><!-- End Recent Activity -->

              </div>
          </section>

        </main><!-- End #main -->


        <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
            class="bi bi-arrow-up-short"></i></a>

        <!-- Vendor JS Files -->
        <script th:src="@{/assets/vendor/apexcharts/apexcharts.min.js}"></script>
        <script th:src="@{/assets/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>
        <script th:src="@{/assets/vendor/chart.js/chart.umd.js}"></script>
        <script th:src="@{/assets/vendor/echarts/echarts.min.js}"></script>
        <script th:src="@{/assets/vendor/quill/quill.min.js}"></script>
        <script th:src="@{/assets/vendor/simple-datatables/simple-datatables.js}"></script>
        <script th:src="@{/assets/vendor/tinymce/tinymce.min.js}"></script>
        <script th:src="@{/assets/vendor/php-email-form/validate.js}"></script>

        <!-- Template Main JS File -->
        <script th:src="@{/assets/js/main.js}"></script>
      </class>
      </block>
      </block>